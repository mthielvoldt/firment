// A message structure to control a signal generator's output waveform.

syntax = "proto3";
import "firment_msg.proto";

/* Project-specific messages */
enum WaveShape {
  UNSPECIFIED = 0;
  SINE = 1;
  SQUARE = 2;
  SAWTOOTH = 3;
  DC = 4;
}

enum OutputChannel {
  CHANNEL_A = 0;
  CHANNEL_B = 1;
}

message WaveformCtl {
  OutputChannel channel = 6;
  bool enabled = 5;
  WaveShape shape = 4;
  float amplitudeV = 1;
  float frequencyHz = 2;
  float offsetV = 3;
}

message WaveformTlm {
  WaveShape shape = 3;
  float voltageV = 1;
  sint32 currentMa = 2;
  bool ChannelAFault = 4;
  bool ChannelBFault = 5;
}



message Top {
  oneof sub {
    Ack Ack = 1;
    Log Log = 2;
    TouchParam TouchParam = 3;
    ProbeSignals ProbeSignals = 4;
    RunScanCtl RunScanCtl = 5;
    ImageData ImageData = 6;
    PageStatus PageStatus = 7;
    FirmentErrorTlm FirmentErrorTlm = 8;
    Version Version = 9;
    WaveformCtl WaveformCtl = 12;
    WaveformTlm WaveformTlm = 13;
    Reset Reset = 14;
  }
}